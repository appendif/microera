<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

    <menuitem
        id="menu_jimo_reporting"
        name="Jimo"
        sequence="15"
        parent="base.menu_reporting" />

    <record id="view_sale_report_tree" model="ir.ui.view">
        <field name="name">jimo.sale.report.tree</field>
        <field name="model">jimo.sale.report</field>
        <field name="arch" type="xml">
            <tree string="sale report" create="false">
                <field name="date_done" />
                <field name="year" />
                <field name="month" />
                <field name="day" />
                <field name="saleorder_id" />
                <field name="saleperson_id" />
                <field name="customer_id" />
                <field name="product_id" />
<!--            <field name="ean13" />					-->
                <field name="brand_id" />
                <field name="company_id" />
                <field name="supplier_id" />
                <field name="shop_id" />
                <field name="order_qty"   sum="Total ordered"/>
                <field name="shipped_qty" sum="Total shipped"/>
                <field name="list_price" />
                <field name="standard_price" />
                <field name="unit_price" />
                <field name="total_price" sum="Total Price"/>
           </tree>
        </field>
    </record>

    <record id="view_sale_report_search" model="ir.ui.view">
        <field name="name">jimo.sale.report.search</field>
        <field name="model">jimo.sale.report</field>
        <field name="arch" type="xml">
            <search string="Sale report">
                <field name="company_id" groups="base.group_multi_company"/>
                <field name="supplier_id" context="{'contact_display':'partner'}"/>
                <field name="customer_id" context="{'contact_display':'partner'}"/>
                <field name="saleperson_id" />
                <field name="saleorder_id" context="{'contact_display':'sale.order'}"/>
                <field name="product_id" default_focus="1"/>
                <field name="brand_id" />
                <field name="shop_id" />
                <group expand="1" string="Group By...">
                    <filter name="group_company" string="Company" context="{'group_by':'company_id'}" groups="base.group_multi_company"/>
                    <filter name="group_shop" string="Shop" context="{'group_by':'shop_id'}"/>
                    <filter name="group_brand" string="Brand" context="{'group_by':'brand_id'}"/>
                    <filter name="group_product" string="Product" context="{'group_by':'product_id'}"/>
                    <filter name="group_saleperson" string="Saleperson" context="{'group_by':'saleperson_id'}"/>
                    <filter name="group_supplier" string="Supplier" context="{'group_by':'supplier_id'}"/>
                    <filter name="group_customer" string="Customer" context="{'group_by':'customer_id'}"/>
                    <filter string="Day"   icon="terp-go-today" context="{'group_by':'day'}" help="Day Delivered"/>
                    <filter string="Month" icon="terp-go-month" context="{'group_by':'month'}" help="Month Delivered"/>
                    <filter string="Year"  icon="terp-go-year"  context="{'group_by':'year'}"  help="Year Delivered"/>
                </group>
            </search>
        </field>
    </record>

        
    <record id="action_sale_report" model="ir.actions.act_window">
        <field name="name">Jimo Sale report</field>
        <field name="res_model">jimo.sale.report</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree</field>
    </record>

    <menuitem id="menu_action_sale_report" action="action_sale_report" parent="menu_jimo_reporting" sequence="1"/>

</data>
</openerp>
